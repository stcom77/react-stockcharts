{"version":3,"sources":["../../../../../src/lib/interactive/wrapper/EachInteractiveYCoordinate.js"],"names":["React","Component","PropTypes","noop","saveNodeType","isHover","ClickableShape","InteractiveYCoordinate","EachInteractiveYCoordinate","props","handleHover","bind","handleCloseIconHover","handleDragStart","handleDrag","handleDelete","nodes","state","hover","closeIconHover","moreProps","yValue","mouseXY","yScale","chartConfig","mouseY","dy","dragStartPosition","index","onDrag","newYValue","invert","onDelete","hovering","setState","at","bgFill","bgOpacity","textFill","fontFamily","fontSize","fontWeight","fontStyle","text","selected","onDragComplete","stroke","strokeOpacity","strokeDasharray","strokeWidth","edge","textBox","rectWidth","rectHeight","textWidth","hoverHandler","onHover","onUnHover","propTypes","number","oneOf","isRequired","string","bool","object","func","defaultProps","opacity","fill"],"mappings":"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","file":"EachInteractiveYCoordinate.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { noop } from \"../../utils\";\nimport { saveNodeType, isHover } from \"../utils\";\n\nimport ClickableShape from \"../components/ClickableShape\";\nimport InteractiveYCoordinate from \"../components/InteractiveYCoordinate\";\n\nclass EachInteractiveYCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleHover = this.handleHover.bind(this);\n\t\tthis.handleCloseIconHover = this.handleCloseIconHover.bind(this);\n\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\n\t\tthis.handleDelete = this.handleDelete.bind(this);\n\n\t\tthis.isHover = isHover.bind(this);\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.nodes = {};\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tcloseIconHover: false,\n\t\t};\n\t}\n\thandleDragStart(moreProps) {\n\t\tconst {\n\t\t\tyValue,\n\t\t} = this.props;\n\t\tconst { mouseXY } = moreProps;\n\t\tconst { chartConfig: { yScale } } = moreProps;\n\t\tconst [, mouseY] = mouseXY;\n\n\t\tconst dy = mouseY - yScale(yValue);\n\n\t\tthis.dragStartPosition = {\n\t\t\tyValue, dy\n\t\t};\n\t}\n\thandleDrag(moreProps) {\n\t\tconst { index, onDrag } = this.props;\n\t\tconst {\n\t\t\tmouseXY: [, mouseY],\n\t\t\tchartConfig: { yScale },\n\t\t} = moreProps;\n\n\t\tconst { dy } = this.dragStartPosition;\n\n\t\tconst newYValue = yScale.invert(mouseY - dy);\n\n\t\tonDrag(index, newYValue);\n\t}\n\thandleDelete(moreProps) {\n\t\tconst { index, onDelete } = this.props;\n\t\tonDelete(index, moreProps);\n\t}\n\thandleHover(moreProps) {\n\t\tif (this.state.hover !== moreProps.hovering) {\n\t\t\tthis.setState({\n\t\t\t\thover: moreProps.hovering,\n\t\t\t\tcloseIconHover: moreProps.hovering ? this.state.closeIconHover : false\n\t\t\t});\n\t\t}\n\t}\n\thandleCloseIconHover(moreProps) {\n\t\tif (this.state.closeIconHover !== moreProps.hovering) {\n\t\t\tthis.setState({\n\t\t\t\tcloseIconHover: moreProps.hovering\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tat,\n\t\t\tyValue,\n\t\t\tbgFill,\n\t\t\tbgOpacity,\n\t\t\ttextFill,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\tfontWeight,\n\t\t\tfontStyle,\n\t\t\ttext,\n\t\t\t// hoverText,\n\t\t\tselected,\n\t\t\tonDragComplete,\n\t\t\tstroke,\n\t\t\tstrokeOpacity,\n\t\t\tstrokeDasharray,\n\t\t\tstrokeWidth,\n\t\t\tedge,\n\t\t\ttextBox,\n      rectWidth,\n      rectHeight,\n      textWidth\n\t\t} = this.props;\n\t\tconst { hover, closeIconHover } = this.state;\n\n\t\tconst hoverHandler = {\n\t\t\tonHover: this.handleHover,\n\t\t\tonUnHover: this.handleHover\n\t\t};\n\n\t\t// const { enable: hoverTextEnabled, ...restHoverTextProps } = hoverText;\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<InteractiveYCoordinate\n\t\t\t\t\tref={this.saveNodeType(\"priceCoordinate\")}\n\t\t\t\t\tselected={selected && !closeIconHover}\n\t\t\t\t\thovering={hover || closeIconHover}\n\t\t\t\t\tinteractiveCursorClass=\"react-stockcharts-move-cursor\"\n\t\t\t\t\t{...hoverHandler}\n\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\tonDragComplete={onDragComplete}\n\n\t\t\t\t\tyValue={yValue}\n\t\t\t\t\tbgFill={bgFill}\n\t\t\t\t\tbgOpacity={bgOpacity}\n\t\t\t\t\ttextFill={textFill}\n\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\tfontStyle={fontStyle}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeDasharray={strokeDasharray}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t\ttext={text}\n\t\t\t\t\ttextBox={textBox}\n\t\t\t\t\tedge={edge}\n          rectWidth={rectWidth}\n          rectHeight={rectHeight}\n          at={at}\n          textWidth={textWidth}\n\t\t\t\t/>\n\t\t\t\t<ClickableShape\n\t\t\t\t\tshow\n\t\t\t\t\thovering={closeIconHover}\n\t\t\t\t\ttext={text}\n\t\t\t\t\tyValue={yValue}\n\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\tfontStyle={fontStyle}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\ttextBox={textBox}\n\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\n\t\t\t\t\tonHover={this.handleCloseIconHover}\n\t\t\t\t\tonUnHover={this.handleCloseIconHover}\n\t\t\t\t\tonClick={this.handleDelete}\n          at={at}\n          textWidth={textWidth}\n        />\n\t\t\t\t{/* <HoverTextNearMouse\n\t\t\t\t\tshow={hoverTextEnabled && hover && !selected}\n\t\t\t\t\t{...restHoverTextProps}\n\t\t\t\t/> */}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nEachInteractiveYCoordinate.propTypes = {\n\tindex: PropTypes.number,\n  at: PropTypes.oneOf([\"left\", \"right\"]),\n\n\tyValue: PropTypes.number.isRequired,\n\tbgFill: PropTypes.string.isRequired,\n\tbgOpacity: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tstrokeDasharray: PropTypes.string.isRequired,\n\ttextFill: PropTypes.string.isRequired,\n\n\tfontWeight: PropTypes.string.isRequired,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontStyle: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\n\ttext: PropTypes.string.isRequired,\n\tselected: PropTypes.bool.isRequired,\n\n\tedge: PropTypes.object.isRequired,\n\ttextBox: PropTypes.object.isRequired,\n\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonDelete: PropTypes.func.isRequired,\n  rectWidth: PropTypes.number,\n  rectHeight: PropTypes.number,\n  textWidth: PropTypes.number.isRequired,\n};\n\nEachInteractiveYCoordinate.defaultProps = {\n  at: 'left',\n\n\tonDrag: noop,\n\tonDragComplete: noop,\n\n\tstrokeWidth: 1,\n\topacity: 1,\n\tselected: false,\n\tfill: \"#FFFFFF\",\n  rectWidth: 50,\n  rectHeight: 20,\n};\n\nexport default EachInteractiveYCoordinate;\n"]}