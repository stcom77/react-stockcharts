{"version":3,"sources":["../../../../../src/lib/interactive/wrapper/EachPriceCoordinate.js"],"names":["React","Component","PropTypes","noop","saveNodeType","isHover","InteractivePriceCoordinate","EachPriceCoordinate","props","handleHover","bind","handleDragStart","handleDrag","nodes","state","hover","moreProps","yValue","mouseXY","yScale","chartConfig","mouseY","dy","dragStartPosition","index","onDrag","newYValue","invert","hovering","setState","bgFill","bgOpacity","textFill","fontFamily","fontSize","fontWeight","fontStyle","text","selected","onDragComplete","hoverHandler","onHover","onUnHover","propTypes","number","isRequired","string","bool","func","defaultProps","edgeStroke","edgeFill","edgeStrokeWidth","r","strokeWidth","opacity","fill"],"mappings":"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","file":"EachPriceCoordinate.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { noop } from \"../../utils\";\nimport { saveNodeType, isHover } from \"../utils\";\n\n// import HoverTextNearMouse from \"../components/HoverTextNearMouse\";\nimport InteractivePriceCoordinate from \"../components/InteractivePriceCoordinate\";\n\nclass EachPriceCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleHover = this.handleHover.bind(this);\n\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\n\t\tthis.isHover = isHover.bind(this);\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.nodes = {};\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t};\n\t}\n\thandleDragStart(moreProps) {\n\t\tconst {\n\t\t\tyValue,\n\t\t} = this.props;\n\t\tconst { mouseXY } = moreProps;\n\t\tconst { chartConfig: { yScale } } = moreProps;\n\t\tconst [, mouseY] = mouseXY;\n\n\t\tconst dy = mouseY - yScale(yValue);\n\n\t\tthis.dragStartPosition = {\n\t\t\tyValue, dy\n\t\t};\n\t}\n\thandleDrag(moreProps) {\n\t\tconst { index, onDrag } = this.props;\n\t\tconst {\n\t\t\tmouseXY: [, mouseY],\n\t\t\tchartConfig: { yScale },\n\t\t} = moreProps;\n\n\t\tconst { dy } = this.dragStartPosition;\n\n\t\tconst newYValue = yScale.invert(mouseY - dy);\n\n\t\tonDrag(index, newYValue);\n\t}\n\thandleHover(moreProps) {\n\t\tif (this.state.hover !== moreProps.hovering) {\n\t\t\tthis.setState({\n\t\t\t\thover: moreProps.hovering\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tyValue,\n\t\t\tbgFill,\n\t\t\tbgOpacity,\n\t\t\ttextFill,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\tfontWeight,\n\t\t\tfontStyle,\n\t\t\ttext,\n\t\t\t// hoverText,\n\t\t\tselected,\n\t\t\tonDragComplete,\n\t\t} = this.props;\n\t\tconst { hover } = this.state;\n\n\t\tconst hoverHandler = {\n\t\t\tonHover: this.handleHover,\n\t\t\tonUnHover: this.handleHover\n\t\t};\n\n\t\t// const { enable: hoverTextEnabled, ...restHoverTextProps } = hoverText;\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<InteractivePriceCoordinate\n\t\t\t\t\tref={this.saveNodeType(\"priceCoordinate\")}\n\t\t\t\t\tselected={selected}\n\t\t\t\t\thovering={hover}\n\t\t\t\t\tinteractiveCursorClass=\"react-stockcharts-move-cursor\"\n\t\t\t\t\t{...hoverHandler}\n\n\t\t\t\t\tonDragStart={this.handleDragStart}\n\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\tonDragComplete={onDragComplete}\n\n\t\t\t\t\tyValue={yValue}\n\t\t\t\t\tbgFill={bgFill}\n\t\t\t\t\tbgOpacity={bgOpacity}\n\t\t\t\t\ttextFill={textFill}\n\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\tfontStyle={fontStyle}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\ttext={text}\n\t\t\t\t/>\n\t\t\t\t{/* <HoverTextNearMouse\n\t\t\t\t\tshow={hoverTextEnabled && hover && !selected}\n\t\t\t\t\t{...restHoverTextProps}\n\t\t\t\t/> */}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nEachPriceCoordinate.propTypes = {\n\tindex: PropTypes.number,\n\n\tyValue: PropTypes.number.isRequired,\n\tbgFill: PropTypes.string.isRequired,\n\tbgOpacity: PropTypes.number.isRequired,\n\ttextFill: PropTypes.string.isRequired,\n\n\tfontWeight: PropTypes.string.isRequired,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontStyle: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\n\ttext: PropTypes.string.isRequired,\n\tselected: PropTypes.bool.isRequired,\n\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n};\n\nEachPriceCoordinate.defaultProps = {\n\tonDrag: noop,\n\tonDragComplete: noop,\n\tedgeStroke: \"#000000\",\n\tedgeFill: \"#FFFFFF\",\n\tedgeStrokeWidth: 2,\n\tr: 5,\n\tstrokeWidth: 1,\n\topacity: 1,\n\tselected: false,\n\tfill: \"#FFFFFF\",\n};\n\nexport default EachPriceCoordinate;"]}