{"version":3,"sources":["../../../../src/lib/coordinates/AlertCoordinate.js"],"names":["React","Component","PropTypes","drawOnCanvas","renderSVG","GenericChartComponent","getAxisCanvas","functor","strokeDashTypes","AlertCoordinate","props","handleMouseOver","e","console","log","bind","ctx","moreProps","helper","propTypes","displayFormat","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","price","dx","arrowWidth","opacity","lineOpacity","lineStroke","string","lineStrokeWidth","fontFamily","fontSize","fill","oneOfType","strokeDasharray","stroke","strokeOpacity","strokeWidth","textFill","defaultProps","width","yScale","chartConfig","domain","lowerYValue","upperYValue","x1","x2","edgeAt","type","y","show","coordinate","invert","hideLine","coordinateProps","lineStrokeDasharray","y1","y2"],"mappings":"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","file":"AlertCoordinate.js","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getAxisCanvas } from \"../GenericComponent\";\nimport { functor, strokeDashTypes } from \"../utils\";\n\nclass AlertCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\n\trenderSVG(moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\treturn renderSVG(props);\n\t}\n\n\thandleMouseOver = (e) => {\n\t\tconsole.log(e);\n\t}\n\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tdrawOn={[\"pan\"]}\n\t\t\tonMouseOver={this.handleMouseOver}\n\t\t/>;\n\t}\n}\n\nAlertCoordinate.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n\tyAxisPad: PropTypes.number,\n\trectWidth: PropTypes.number,\n\trectHeight: PropTypes.number,\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tprice: PropTypes.number,\n\tdx: PropTypes.number,\n\tarrowWidth: PropTypes.number,\n\topacity: PropTypes.number,\n\tlineOpacity: PropTypes.number,\n\tlineStroke: PropTypes.string,\n\tlineStrokeWidth: PropTypes.number,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]),\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\tstroke: PropTypes.string,\n\tstrokeOpacity: PropTypes.number,\n\tstrokeWidth: PropTypes.number,\n\ttextFill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]),\n};\n\nAlertCoordinate.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 50,\n\trectHeight: 20,\n\torient: \"left\",\n\tat: \"left\",\n\tprice: 0,\n\tdx: 0,\n\tarrowWidth: 0,\n\tfill: \"#BAB8b8\",\n\topacity: 1,\n\tlineOpacity: 0.2,\n\tlineStroke: \"#000000\",\n\tlineStrokeWidth: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tstrokeOpacity: 1,\n\tstrokeWidth: 1,\n\tstrokeDasharray: \"Solid\",\n};\n\nfunction helper(props, moreProps) {\n\tconst { width } = moreProps;\n\tconst { chartConfig: { yScale } } = moreProps;\n\tconst [lowerYValue, upperYValue] = yScale.domain();\n\n\tconst { price, stroke, strokeDasharray, strokeOpacity, strokeWidth } = props;\n\tconst { orient, at, rectWidth, rectHeight, displayFormat, dx } = props;\n\tconst { fill, opacity, fontFamily, fontSize, textFill, arrowWidth, lineOpacity, lineStroke, lineStrokeWidth } = props;\n\n\tconst x1 = 0, x2 = width;\n\tconst edgeAt = (at === \"right\")\n\t\t? width\n\t\t: 0;\n\n\tconst type = \"horizontal\";\n\n\tconst y = yScale(price);\n\tconst show = (price <= upperYValue && price >= lowerYValue);\n\n\tconst coordinate = displayFormat(yScale.invert(y));\n\tconst hideLine = false;\n\n\tconst coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tlineOpacity,\n\t\tlineStroke,\n\t\tlineStrokeWidth,\n\t\tlineStrokeDasharray: strokeDasharray,\n\t\tstroke,\n\t\tstrokeOpacity,\n\t\tstrokeWidth,\n\t\tfill: functor(fill)(price),\n\t\ttextFill: functor(textFill)(price),\n\t\topacity, fontFamily, fontSize,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth,\n\t\tdx,\n\t\tx1,\n\t\tx2,\n\t\ty1: y,\n\t\ty2: y,\n\t};\n\treturn coordinateProps;\n}\n\nexport default AlertCoordinate;\n"]}